<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What is ODBC Part 3 of 3 - burningdaylight</title>

    <meta name="description" content="Various notes and ideas.">
    <meta name="author" content="Alexander Hagerman">

    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://burningdaylight.io/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="https://burningdaylight.io/atom.xml">    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/portfolio.css">
    <link rel="stylesheet" href="/static/css/resume.css">

    <link rel="icon" type="image/x-icon" href="/static/icons/favicon.ico">

    
</head>
<body>
    <header>
        <nav>
            <a href="/">Home</a>
            <a href="/blog/">Blog</a>
            <a href="/programming/portfolio/">Portfolio</a>
            <a href="/programming/resume/">Resume</a>
            <a href="/lists/books/">Books</a>
            <a href="/lists/podcast/">Podcast</a>
            <a href="/lists/links/">Links</a>
        </nav>
    </header>

    <main>
        
<article class="post">
    <header>
        <h1>What is ODBC Part 3 of 3</h1>
        
        <time datetime="2019-05-24">
            May 24, 2019
        </time>
        

        
        <div class="tags">
            Tags:
            
            <a href="/tags/odbc/">odbc</a>
            
            <a href="/tags/database/">database</a>
            
            <a href="/tags/python/">python</a>
            
            <a href="/tags/programming/">programming</a>
            
        </div>
        

        
        <div class="categories">
            Categories:
            
            <a href="/categories/programming/">programming</a>
            
        </div>
        
    </header>

    <div class="content">
        <h3 id="for-more-information-see-part-one-and-part-two">For more information see <a href="https://burningdaylight.io/posts/what-is-odbc/">part one</a> and <a href="https://burningdaylight.io/posts/what-is-odbc-pt2/">part two</a></h3>
<h3 id="setting-up">Setting Up</h3>
<p>Just like any other piece of software we can make use of debuggers to step through our application code and see what is
happening with ODBC. To do this with Python you should be running a version with debug symbols included. You can do this
via:</p>
<p>
<pre><code class="language-python">git clone git@github.com:python/cpython.git
mkdir debug
cd debug
../configure --with-pydebug
make
make testAdditionally you will want to clone pyodbc so that we can make use of symbols.

git clone git@github.com:mkleehammer/pyodbc.git
CFLAGS='-Wall -O0 -g' python setup.py build
</code></pre>
</p>
<p>Finally you’ll need some code and a database to interact with. If you want I have an
example <a href="https://gitlab.com/n0mn0m/what-is-odbc">repo</a> which uses docker to start Postgres and/or MSSQL. It also
contains some python example code and pyodbc in the repo for debugging.</p>
<p>One final note, if you wish to explore code all the way into the driver manager and/or driver you will need a debug
version of each. For Mac and Linux you can do this with unixodbc found <a href="http://www.unixodbc.org/">here</a>
or <a href="https://github.com/lurcher/unixODBC">here</a> and specify debug with make similar to CPython above. For a debug driver
build checkout <a href="https://odbc.postgresql.org/">Postgres psqlodbc</a>.</p>
<h3 id="stepping-through">Stepping through</h3>
<p>I’m writing this on OSX, but the concepts are the same regardless of platform. On OSX you can use LLDB or GDB (I used
LLDB as a learning exercise), on Linux GDB is probably your go to and on Windows you can use WinGDB or the debugger
built into Visual Studio for C/C++.</p>
<p>From the command line start your debugger, or if using GDB/LLDB call your tool with the -f flag specifying you want to
load a file and call Python with your debugger so the Python interpreter will run the file inside your debugger.</p>
<p>
<pre><code class="language-bash">lldb -f python -- -m pdb main.py
</code></pre>
</p>
<p>From here you can execute the application, use normal step, thread and frame functions to inspect the stack at different
steps or get additional dump file information. Some breakpoints I found interesting can be set with:</p>
<p>
<pre><code class="language-bash">breakpoint set --file connection.cpp --line 232
breakpoint set --file connection.cpp --line 52
breakpoint set --file cursor.cpp --line 1100
breakpoint set --file getdata.cpp --line 776runIn case it is helpful you can find an lldb to gdb map [here](https://lldb.llvm.org/use/map.html).
</code></pre>
</p>
<h3 id="contact">Contact</h3>
<p>If you have experience with ODBC internals, want to correct something I’ve written or just want to reach out feel free
to follow up via <a href="mailto:alexander.hagerman@icloud.com">email</a> or on .</p>
<p>I also have a <a href="https://github.com/n0mn0m/presentations">repo</a> with the material I used for a presentation on this at
the <a href="https://www.meetup.com/derbypy/">Louisville DerbyPy</a> meetup in March of 2019.</p>
    </div>
</article>

    </main>

    <footer>
        <p>&copy; 2025 <a href="/me/">Alexander Hagerman</a>. All rights reserved.</p>
        <p>
            <a href="/feed.xml">RSS</a> |
            <a href="/atom.xml">Atom</a>
        </p>
    </footer>

    
    <script src="/static/javascripts/mathjax.js"></script>
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
    
</body>
</html>